<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux常用命令 | oneisx</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="web后端技术博客,专注web后端学习与总结。Java,Golang,Python,Linux,数据库,消息队列,Git,Github等技术文章。">
    <meta name="keywords" content="java,golang,python,linux">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.15972595.css" as="style"><link rel="preload" href="/assets/js/app.30b63f87.js" as="script"><link rel="preload" href="/assets/js/2.f7063564.js" as="script"><link rel="preload" href="/assets/js/13.780e53a8.js" as="script"><link rel="prefetch" href="/assets/js/10.a486be49.js"><link rel="prefetch" href="/assets/js/11.3be85347.js"><link rel="prefetch" href="/assets/js/12.42495b81.js"><link rel="prefetch" href="/assets/js/14.ccfecdbd.js"><link rel="prefetch" href="/assets/js/15.c8788711.js"><link rel="prefetch" href="/assets/js/16.28470c50.js"><link rel="prefetch" href="/assets/js/17.17a2955c.js"><link rel="prefetch" href="/assets/js/18.9caadfa2.js"><link rel="prefetch" href="/assets/js/19.30c4cde3.js"><link rel="prefetch" href="/assets/js/20.7dc876c0.js"><link rel="prefetch" href="/assets/js/21.1732e28a.js"><link rel="prefetch" href="/assets/js/22.78827142.js"><link rel="prefetch" href="/assets/js/3.ab9e6633.js"><link rel="prefetch" href="/assets/js/4.83469f4c.js"><link rel="prefetch" href="/assets/js/5.c1466431.js"><link rel="prefetch" href="/assets/js/6.6a0d5aa2.js"><link rel="prefetch" href="/assets/js/7.43886d2e.js"><link rel="prefetch" href="/assets/js/8.72e251f1.js"><link rel="prefetch" href="/assets/js/9.efed16dc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.15972595.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="oneisx" class="logo"> <span class="site-name can-hide">oneisx</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">Java</a></div><div class="nav-item"><a href="/golang/" class="nav-link">Golang</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/linux/" class="nav-link">Linux</a></div><div class="nav-item"><a href="/version-control/" class="nav-link">版本控制</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/oneisx/oneisx.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/weixin.jpg"> <div class="blogger-info"><h3>oneisx</h3> <span>睁不开眼的雷</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">Java</a></div><div class="nav-item"><a href="/golang/" class="nav-link">Golang</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/linux/" class="nav-link">Linux</a></div><div class="nav-item"><a href="/version-control/" class="nav-link">版本控制</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/oneisx/oneisx.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/10ce89/" class="sidebar-link">快速配置SSH免密登录</a></li><li><a href="/pages/8dd674/" aria-current="page" class="active sidebar-link">Linux常用命令</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/categories/?category=Linux" title="分类" data-v-0c557b5e>Linux</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/oneisx" target="_blank" title="作者" class="beLink" data-v-0c557b5e>oneisx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-01-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux常用命令<!----></h1>  <div class="theme-vdoing-content content__default"><p>@<a href="%E6%9B%B4%E6%96%B0%E4%BA%8E2019%E5%B9%B48%E6%9C%8828%E6%97%A5">TOC</a></p> <h4 id="切换用户"><a href="#切换用户" class="header-anchor">#</a> 切换用户</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">su</span> <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span>
<span class="token function">su</span> -	<span class="token comment">#切换到root，- 可省略，需要密码</span>
</code></pre></div><h4 id="退出文件"><a href="#退出文件" class="header-anchor">#</a> 退出文件</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>ZZ		<span class="token comment"># 保存并退出</span>
:q<span class="token operator">!</span>		<span class="token comment"># 强制不保存退出</span>
:wq<span class="token operator">!</span> 	<span class="token comment"># 强制保存退出</span>
:q		<span class="token comment"># 退出</span>
:w		<span class="token comment"># 保存</span>
:wq		<span class="token comment"># 保存退出</span>
</code></pre></div><h4 id="linux操作系统模式切换"><a href="#linux操作系统模式切换" class="header-anchor">#</a> linux操作系统模式切换</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>systemctl set-default multi-user.target		<span class="token comment"># 命令行模式</span>
systemctl set-default graphical.target		<span class="token comment"># 图形界面模式</span>
</code></pre></div><h4 id="centos-7静态ip设置-网络自启动"><a href="#centos-7静态ip设置-网络自启动" class="header-anchor">#</a> Centos 7静态IP设置，网络自启动</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">vim</span> /etc/sysconfig/network-scripts/ifcfg-eth0  	<span class="token comment">#文件名可能不一样，差不多就是ifcfg-*的样子</span>
<span class="token number">2</span><span class="token punctuation">)</span> 修改如下内容：
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span><span class="token string">&quot;static&quot;</span> 		<span class="token comment"># dhcp改为static   </span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span> 			<span class="token comment"># 开机启用本配置  </span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.1.199 	<span class="token comment"># 静态IP  </span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1 	<span class="token comment"># 默认网关  </span>
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.255.0	<span class="token comment"># 子网掩码</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">8.8</span>.8.8			<span class="token comment"># DNS</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token function">service</span> network restart	<span class="token comment"># 重启网络</span>
</code></pre></div><h4 id="修改用户-使其属于root组"><a href="#修改用户-使其属于root组" class="header-anchor">#</a> 修改用户，使其属于root组</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">usermod</span> -g root <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span>
</code></pre></div><h4 id="压缩解压文件"><a href="#压缩解压文件" class="header-anchor">#</a> 压缩解压文件</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tar</span> -zxvf dist.tar.gz 		<span class="token comment"># 显示解压过程</span>
<span class="token function">tar</span> -zxf dist.tar.gz 		<span class="token comment"># 不显示解压过程</span>
<span class="token function">tar</span> -zcvf dist.tar.gz dist 	<span class="token comment"># 显示压缩过程</span>
<span class="token function">tar</span> -zcf dist.tar.gz dist 	<span class="token comment"># 不显示压缩过程</span>
</code></pre></div><h4 id="文件相关操作"><a href="#文件相关操作" class="header-anchor">#</a> 文件相关操作</h4> <ul><li>移动文件：mv 文件名 移动目的地文件名（ mv abc.txt /home/abc.txt ）</li> <li>重命名文件：mv 文件名 修改后的文件名（ mv a.txt b.txt ）</li> <li>删除文件用：rm 文件名（ rm a.txt ）</li> <li>删除文件夹用：rmdir 文件夹名 （ rmdir abc ）</li> <li>删除非空文件夹：rm -rf 非空文件夹名（ rm -rf abc ）</li> <li>创建文件：
vim 文件名 -保存后就创建文件了（ vim abc.txt ）
touch 文件名 -在当前目录创建空白文件（ touch abc.txt ）</li></ul> <h4 id="查看当前目录"><a href="#查看当前目录" class="header-anchor">#</a> 查看当前目录</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">pwd</span>
</code></pre></div><h4 id="修改文件读写执行权限"><a href="#修改文件读写执行权限" class="header-anchor">#</a> 修改文件读写执行权限</h4> <table><thead><tr><th style="text-align:center;">归属者</th> <th style="text-align:center;">组权限</th> <th style="text-align:center;">其他人</th></tr></thead> <tbody><tr><td style="text-align:center;">rwx</td> <td style="text-align:center;">rwx</td> <td style="text-align:center;">rwx</td></tr> <tr><td style="text-align:center;">421</td> <td style="text-align:center;">421</td> <td style="text-align:center;">421</td></tr> <tr><td style="text-align:center;">7</td> <td style="text-align:center;">7</td> <td style="text-align:center;">7</td></tr></tbody></table> <blockquote><p>根据权限的对应数字修改(用root用户修改)</p></blockquote> <p>例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> <span class="token number">777</span> text.txt 	<span class="token comment"># 所有人都用户读写执行权限</span>
<span class="token function">chmod</span> +x text.txt	<span class="token comment">#增加可执行权限</span>
</code></pre></div><h4 id="卸载centos自带的openjdk"><a href="#卸载centos自带的openjdk" class="header-anchor">#</a> 卸载centos自带的openjdk</h4> <div class="language-shell extra-class"><pre class="language-shell"><code> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#查看是否安装openjdk </span>
 <span class="token function">rpm</span> -qa <span class="token operator">|</span> <span class="token function">grep</span> jdk
 <span class="token comment">#显示如下：</span>
 java-1.4.2-gcj-compat-1.4.2.0-40jpp.115
 java-1.6.0-openjdk-1.6.0.0-1.7.b09.el5
 <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#卸载：</span>
 yum -y remove java java-1.4.2-gcj-compat-1.4.2.0-40jpp.115
 yum -y remove java java-1.6.0-openjdk-1.6.0.0-1.7.b09.el5
</code></pre></div><h4 id="删除java"><a href="#删除java" class="header-anchor">#</a> 删除java</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rpm</span> -qa <span class="token operator">|</span> <span class="token function">grep</span> java 						<span class="token comment">#查看</span>
<span class="token function">rpm</span> -qa <span class="token operator">|</span> <span class="token function">grep</span> java <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rpm</span> -e --nodeps	<span class="token comment">#删除</span>
</code></pre></div><h4 id="操作服务"><a href="#操作服务" class="header-anchor">#</a> 操作服务</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>systemctl <span class="token builtin class-name">enable</span> foo.service 		<span class="token comment">#自动启动</span>
systemctl restart foo.service 		<span class="token comment">#重启</span>
systemctl start foo.service 		<span class="token comment">#开启</span>
systemctl stop foo.service 			<span class="token comment">#停止</span>
systemctl disable foo.service 		<span class="token comment">#禁用</span>
systemctl status foo.service 		<span class="token comment">#状态</span>
systemctl reload foo.service 		<span class="token comment">#重新加载配置（不重启服务）</span>
systemctl is-enabled foo.service 	<span class="token comment">#查看服务是否开机启动</span>
</code></pre></div><p>例如：</p> <blockquote><p><strong>关闭、禁用防火墙：</strong>
systemctl enable firewalld.service 			#自动启动
systemctl restart firewalld.service 			#重启
systemctl start firewalld.service				#开启
systemctl stop firewalld.service 				#停止
systemctl disable firewalld.service			#禁用
systemctl status firewalld.service 			#状态
systemctl restart firewalld.service 			#重启</p></blockquote> <h4 id="端口操作"><a href="#端口操作" class="header-anchor">#</a> 端口操作</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp --permanent 	<span class="token comment"># 开启端口</span>
firewall-cmd --remove-port<span class="token operator">=</span><span class="token number">9998</span>/tcp --permanent				<span class="token comment"># 关闭端口</span>
firewall-cmd --query-port<span class="token operator">=</span><span class="token number">80</span>/tcp							<span class="token comment"># 查询端口是否打开</span>
firewall-cmd --zone<span class="token operator">=</span>public --list-ports						<span class="token comment"># 查看所有打开的端口</span>
</code></pre></div><h4 id="查看文件几种方式"><a href="#查看文件几种方式" class="header-anchor">#</a> 查看文件几种方式</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>	<span class="token comment"># 查看短文本文件（推荐）</span>
<span class="token function">more</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>	<span class="token comment"># 查看长文本文件（推荐）</span>
<span class="token function">head</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>	<span class="token comment"># 查看文件开头</span>
<span class="token function">tail</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>	<span class="token comment"># 查看文件结尾</span>
</code></pre></div><p>扩展：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">head</span> -n <span class="token number">100</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>	<span class="token comment"># 查看文件开始100行</span>
<span class="token function">tail</span> -n <span class="token number">100</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>	<span class="token comment"># 查看文件结尾100行</span>
<span class="token function">tail</span> -f <span class="token punctuation">[</span>file<span class="token punctuation">]</span>		<span class="token comment"># 持续输出文件结尾（常用于观察日志输出）</span>
</code></pre></div><h4 id="配置jdk"><a href="#配置jdk" class="header-anchor">#</a> 配置jdk</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vim</span> /etc/profile
</code></pre></div><p>在文件尾部追加：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/java/jdk1.8.0_25
<span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span>/usr/java/jdk1.8.0_25/jre
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$JRE_HOME</span>/bin
<span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar:<span class="token variable">$JRE_HOME</span>/lib
<span class="token builtin class-name">export</span> JAVA_HOME JRE_HOME <span class="token environment constant">PATH</span> CLASSPATH
</code></pre></div><p>使文件立即生效：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">source</span> /etc/profile
</code></pre></div><h4 id="修改linux主机名"><a href="#修改linux主机名" class="header-anchor">#</a> 修改linux主机名</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>hostnamectl set-hostname <span class="token punctuation">[</span>newName<span class="token punctuation">]</span>
或者直接修改文件：
<span class="token function">vim</span> /etc/hostname
</code></pre></div><h4 id="超级复制-网络复制格式-scp-源文件-目标文件位置"><a href="#超级复制-网络复制格式-scp-源文件-目标文件位置" class="header-anchor">#</a> 超级复制（ 网络复制	格式：scp 源文件 目标文件位置 ）</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>文件：
<span class="token function">scp</span> a.txt root@192.168.3.152:/home/a.txt
或
<span class="token function">scp</span> a.txt root@192.168.3.152:/home/

文件夹：
<span class="token function">scp</span> -r abc root@192.168.3.152:/home/abc
</code></pre></div><h4 id="r-递归式地改变指定目录及其下的所有子目录和文件的属组。"><a href="#r-递归式地改变指定目录及其下的所有子目录和文件的属组。" class="header-anchor">#</a> -R 递归式地改变指定目录及其下的所有子目录和文件的属组。</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chgrp</span> -R five book		<span class="token comment"># 将book的组改为five</span>
<span class="token function">chown</span> -R five.five his  <span class="token comment"># 把文件夹his及其下的所有文件和子目录的属主改成five，属组改成five</span>
</code></pre></div><h4 id="查看linux硬盘使用情况"><a href="#查看linux硬盘使用情况" class="header-anchor">#</a> 查看linux硬盘使用情况</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">df</span> -h
</code></pre></div><h4 id="查看java相关进程-前提正确安装了jdk"><a href="#查看java相关进程-前提正确安装了jdk" class="header-anchor">#</a> 查看java相关进程（前提正确安装了jdk）</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>jps
</code></pre></div><h4 id="清空文件内容"><a href="#清空文件内容" class="header-anchor">#</a> 清空文件内容</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">''</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>
或者
<span class="token function">cat</span> /dev/null <span class="token operator">&gt;</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>
</code></pre></div><h4 id="修改hosts"><a href="#修改hosts" class="header-anchor">#</a> 修改hosts:</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vim</span> /etc/hosts
</code></pre></div><h4 id="查看网络状态"><a href="#查看网络状态" class="header-anchor">#</a> 查看网络状态</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">netstat</span> -lntup
</code></pre></div><h4 id="查看内存使用情况"><a href="#查看内存使用情况" class="header-anchor">#</a> 查看内存使用情况</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">free</span> -m		<span class="token comment"># 以兆的形式展示</span>
<span class="token function">free</span> -h		<span class="token comment"># 更人性化的展示</span>
</code></pre></div><h4 id="释放网页、目录项和索引缓存"><a href="#释放网页、目录项和索引缓存" class="header-anchor">#</a> 释放网页、目录项和索引缓存</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sync</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token number">3</span> <span class="token operator">&gt;</span> /proc/sys/vm/drop_caches
</code></pre></div><h4 id="find命令"><a href="#find命令" class="header-anchor">#</a> find命令</h4> <p>用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">find</span> / -name  <span class="token string">'a.txt'</span>		<span class="token comment"># 在根目录下查找名字为a.txt的文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -size +100M			<span class="token comment"># 在当前目录查找文件大小超过100M的文件</span>
</code></pre></div><h4 id="去掉搜索后的高亮文本"><a href="#去掉搜索后的高亮文本" class="header-anchor">#</a> 去掉搜索后的高亮文本</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>:noh	<span class="token comment"># 命令模式下执行</span>
</code></pre></div><h4 id="grep查找含有某字符串的所有文件"><a href="#grep查找含有某字符串的所有文件" class="header-anchor">#</a> grep查找含有某字符串的所有文件</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">grep</span> -n <span class="token string">&quot;hello,world!&quot;</span> *
* <span class="token builtin class-name">:</span> 表示当前目录所有文件，也可以是某个文件名
-r 是递归查找
-n 是显示行号
-R 查找所有文件包含子目录
-i 忽略大小写
</code></pre></div><h4 id="du查看某个文件或目录占用磁盘空间的大小"><a href="#du查看某个文件或目录占用磁盘空间的大小" class="header-anchor">#</a> du查看某个文件或目录占用磁盘空间的大小</h4> <p>du常用的选项：
　　-h：以友好的方式显示
　　-a：显示目录占用的磁盘空间大小，还要显示其下目录和文件占用磁盘空间的大小
　　-s：显示目录占用的磁盘空间大小，不要显示其下子目录和文件占用的磁盘空间大小
　　-c：显示几个目录或文件占用的磁盘空间大小，还要统计它们的总和
　　--apparent-size：显示目录或文件自身的大小
　　-l ：统计硬链接占用磁盘空间的大小
　　-L：统计符号链接所指向的文件占用的磁盘空间大小
常用组合：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">du</span> -hs /etc	<span class="token comment"># 查看目录/etc的总大小，不显示子目录详情</span>
</code></pre></div><h4 id="列出所有用户"><a href="#列出所有用户" class="header-anchor">#</a> 列出所有用户</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">cut</span> -f1 -d:
</code></pre></div><h4 id="安装vim"><a href="#安装vim" class="header-anchor">#</a> 安装vim</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token function">vim</span> -y
</code></pre></div><h4 id="yum查看是否安装了指定工具包"><a href="#yum查看是否安装了指定工具包" class="header-anchor">#</a> yum查看是否安装了指定工具包</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>yum list <span class="token punctuation">[</span>包名<span class="token punctuation">]</span>
</code></pre></div><h4 id="创建软连接"><a href="#创建软连接" class="header-anchor">#</a> 创建软连接</h4> <p>ln 命令用于创建链接文件，格式为“ln [选项] 目标文件 链接名”</p> <div class="language-shell extra-class"><pre class="language-shell"><code>栗子：
<span class="token function">ln</span> -s link_file.txt link.txt
</code></pre></div><ul><li>ln 命令中可用的参数以及作用</li></ul> <table><thead><tr><th style="text-align:left;">参数</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;">-s</td> <td style="text-align:left;">创建“符号链接”（如果不带-s 参数，则默认创建硬链接）</td></tr> <tr><td style="text-align:left;">-f</td> <td style="text-align:left;">强制创建文件或目录的链接</td></tr> <tr><td style="text-align:left;">-i</td> <td style="text-align:left;">覆盖前先询问</td></tr> <tr><td style="text-align:left;">-v</td> <td style="text-align:left;">显示创建链接的过程</td></tr></tbody></table> <blockquote><p>➢  可以将它理解为一个“指向原始文件 inode 的指针”，系统不为它分配独立的 inode 和文件。所以，硬链接文件与原始文件其实是同一个文件，只是名字不同。我们每添加一个硬链接，该文件的 inode 连接数就会增加 1；而且只有当该文件的 inode 连接数为 0 时，才算彻底将它删除。换言之，由于硬链接实际上是指向原文件 inode 的指针，因此即便原始文件被删除，依然可以通过硬链接文件来访问。需要注意的是，由于技术的局限性，我们不能跨分区对目录文件进行链接。
➢  仅仅包含所链接文件的路径名，因此能链接目录文件，也可以跨越文件系统进行链接。但是，当原始文件被删除后，链接文件
也将失效，从这一点上来说与 Windows 系统中的“快捷方式”具有一样的性质。</p></blockquote> <h4 id="删除软连接"><a href="#删除软连接" class="header-anchor">#</a> 删除软连接</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rm</span> -rf redis-3.0.7 		<span class="token comment"># 末尾不能加斜杠“/”</span>
</code></pre></div><h4 id="查找服务目录"><a href="#查找服务目录" class="header-anchor">#</a> 查找服务目录</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ps</span>  -ef <span class="token operator">|</span> <span class="token function">grep</span> <span class="token punctuation">[</span>服务名<span class="token punctuation">]</span>
</code></pre></div><h4 id="进入docker容器内部"><a href="#进入docker容器内部" class="header-anchor">#</a> 进入docker容器内部</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it <span class="token punctuation">[</span>容器名称或ID<span class="token punctuation">]</span> /bin/bash
</code></pre></div><h4 id="宿主机与容器复制操作-在宿主机上执行命令"><a href="#宿主机与容器复制操作-在宿主机上执行命令" class="header-anchor">#</a> 宿主机与容器复制操作，在宿主机上执行命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>格式：
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>容器名或ID<span class="token punctuation">]</span>:<span class="token punctuation">[</span>文件<span class="token punctuation">]</span> <span class="token punctuation">[</span>文件<span class="token punctuation">]</span>					<span class="token comment"># 从容器复制到宿主机</span>
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>文件<span class="token punctuation">]</span> <span class="token punctuation">[</span>容器名或ID<span class="token punctuation">]</span>:<span class="token punctuation">[</span>文件<span class="token punctuation">]</span>					<span class="token comment"># 从宿主机复制到容器</span>
栗子：
<span class="token function">docker</span> <span class="token function">cp</span> mysql:/etc/mysql/conf.d/mysql.cnf /root	<span class="token comment"># 从容器复制到宿主机</span>
<span class="token function">docker</span> <span class="token function">cp</span> /root/mysql.cnf mysql:/etc/mysql/conf.d	<span class="token comment"># 从宿主机复制到容器</span>
</code></pre></div><h4 id="ll、ls命令"><a href="#ll、ls命令" class="header-anchor">#</a> ll、ls命令：</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>ll -rt		<span class="token comment"># 按时间排序</span>
ll -Sh		<span class="token comment"># 按大小排序</span>
<span class="token function">ls</span> -a		<span class="token comment"># 查看隐藏文件</span>
</code></pre></div><blockquote><p>ll 实际上是 ls -l 的别名</p></blockquote> <h4 id="查看linux内核版本"><a href="#查看linux内核版本" class="header-anchor">#</a> 查看linux内核版本</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">uname</span> -a
</code></pre></div><h4 id="后台运行"><a href="#后台运行" class="header-anchor">#</a> 后台运行</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&amp;</span> 	<span class="token comment">#例如：sh test.sh &amp;</span>
</code></pre></div><p>使用&amp;命令后，作业被提交到后台运行，当前控制台没有被占用，但是一旦把当前控制台关掉(退出帐户时)，作业就会停止运行。nohup命令可以在你退出帐户之后继续运行相应的进程。nohup就是不挂起的意思( no hang up)。该命令的一般形式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">nohup</span> <span class="token builtin class-name">command</span> <span class="token operator">&amp;</span> 	<span class="token comment"># 例如：nohup sh test.sh &amp;</span>
</code></pre></div><p>使用了nohup之后，很多人就这样不管了，其实这样有可能在当前账户非正常退出或者结束的时候，命令还是自己结束了。所以在使用nohup命令后台运行命令之后，需要使用exit正常退出当前账户，这样才能保证命令一直在后台运行</p> <h4 id="根据pid查询端口占用情况-根据端口查询进程pid"><a href="#根据pid查询端口占用情况-根据端口查询进程pid" class="header-anchor">#</a> 根据pid查询端口占用情况(根据端口查询进程pid)</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">netstat</span> -lnp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token punctuation">[</span>pid<span class="token punctuation">]</span>或<span class="token punctuation">[</span>port<span class="token punctuation">]</span>
<span class="token function">netstat</span> -lnp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">32705</span>	<span class="token comment"># pid</span>
<span class="token function">netstat</span> -lnp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">80</span>		<span class="token comment"># port</span>
</code></pre></div><h4 id="查看进程详情"><a href="#查看进程详情" class="header-anchor">#</a> 查看进程详情</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ps</span> <span class="token punctuation">[</span>pid<span class="token punctuation">]</span>
</code></pre></div><h4 id="vim中常用的命令"><a href="#vim中常用的命令" class="header-anchor">#</a> Vim中常用的命令</h4> <ul><li><strong>命令模式下:</strong></li></ul> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>dd</code></td> <td style="text-align:left;">删除（剪切）光标所在整行</td></tr> <tr><td style="text-align:left;"><code>5dd</code></td> <td style="text-align:left;">删除（剪切）从光标处开始的 5 行</td></tr> <tr><td style="text-align:left;"><code>yy</code></td> <td style="text-align:left;">复制光标所在整行</td></tr> <tr><td style="text-align:left;"><code>5yy</code></td> <td style="text-align:left;">复制从光标处开始的 5 行</td></tr> <tr><td style="text-align:left;"><code>n</code></td> <td style="text-align:left;">显示搜索命令定位到的下一个字符串</td></tr> <tr><td style="text-align:left;"><code>N</code></td> <td style="text-align:left;">显示搜索命令定位到的上一个字符串</td></tr> <tr><td style="text-align:left;"><code>u</code></td> <td style="text-align:left;">撤销上一步的操作，无限往回撤销操作</td></tr> <tr><td style="text-align:left;"><code>Ctrl+r</code></td> <td style="text-align:left;">恢复上一步被撤销的操作，无限往回恢复撤销操作</td></tr> <tr><td style="text-align:left;"><code>U</code></td> <td style="text-align:left;">撤销、恢复撤销操作</td></tr> <tr><td style="text-align:left;"><code>p</code></td> <td style="text-align:left;">将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td></tr> <tr><td style="text-align:left;"><code>gg</code></td> <td style="text-align:left;">跳到文档开头 （或者 输入   :0 、:1）</td></tr> <tr><td style="text-align:left;"><code>G</code></td> <td style="text-align:left;">跳到文档末尾（或者输入  <code>:$</code>）</td></tr> <tr><td style="text-align:left;"><code>^</code></td> <td style="text-align:left;">移动光标，到本行的第一个非空字符</td></tr> <tr><td style="text-align:left;"><code>0</code></td> <td style="text-align:left;">移动光标到行首，不管是否是非空字符</td></tr> <tr><td style="text-align:left;"><code>$</code></td> <td style="text-align:left;">右移光标，到本行的末尾</td></tr> <tr><td style="text-align:left;"><code>x</code></td> <td style="text-align:left;">删除光标后的一个字符</td></tr> <tr><td style="text-align:left;"><code>X</code></td> <td style="text-align:left;">删除光标前的一个字符</td></tr> <tr><td style="text-align:left;"><code>nx</code></td> <td style="text-align:left;">删除光标所指向的后 n 个字符</td></tr> <tr><td style="text-align:left;"><code>D</code></td> <td style="text-align:left;">删除从当前光标到行尾的所有字符</td></tr> <tr><td style="text-align:left;"><code>rc</code></td> <td style="text-align:left;">用 c 替换光标所指向的当前字符</td></tr> <tr><td style="text-align:left;"><code>nrc</code></td> <td style="text-align:left;">用 c 替换光标所指向的后 n 个字符（n个字符都会被替换为c）</td></tr> <tr><td style="text-align:left;"><code>.</code></td> <td style="text-align:left;">(小数点)重复最后一条修改正文的命令</td></tr> <tr><td style="text-align:left;"><code>i</code></td> <td style="text-align:left;">当前字符前插入字符</td></tr> <tr><td style="text-align:left;"><code>I</code></td> <td style="text-align:left;">在行首插入文字</td></tr> <tr><td style="text-align:left;"><code>a</code></td> <td style="text-align:left;">在当前字符后添加文本</td></tr> <tr><td style="text-align:left;"><code>A</code></td> <td style="text-align:left;">在行末添加文本</td></tr> <tr><td style="text-align:left;"><code>o</code></td> <td style="text-align:left;">在当前行后插入空行</td></tr> <tr><td style="text-align:left;"><code>O</code></td> <td style="text-align:left;">在当前行前插入空行</td></tr></tbody></table> <ul><li><strong>末行模式中：</strong></li></ul> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>:set nu</code></td> <td style="text-align:left;">显示行号</td></tr> <tr><td style="text-align:left;"><code>:set nonu</code></td> <td style="text-align:left;">不显示行号</td></tr> <tr><td style="text-align:left;"><code>:命令</code></td> <td style="text-align:left;">执行该命令</td></tr> <tr><td style="text-align:left;"><code>:整数</code></td> <td style="text-align:left;">跳转到该行</td></tr> <tr><td style="text-align:left;"><code>:s/one/two</code></td> <td style="text-align:left;">将当前光标所在行的第一个 one 替换成 two</td></tr> <tr><td style="text-align:left;"><code>:s/one/two/g</code></td> <td style="text-align:left;">将当前光标所在行的所有 one 替换成 two</td></tr> <tr><td style="text-align:left;"><code>:%s/one//gn</code></td> <td style="text-align:left;">统计字符串one个数</td></tr> <tr><td style="text-align:left;"><code>:%s/one/two/g</code></td> <td style="text-align:left;">将全文中的所有 one 替换成 two</td></tr> <tr><td style="text-align:left;"><code>:g/str1/s//str2/g</code></td> <td style="text-align:left;">用字符串 str2 替换正文中所有出现的字符串 str1（没上面那个好记...）</td></tr> <tr><td style="text-align:left;"><code>?字符串</code></td> <td style="text-align:left;">在文本中从下至上搜索该字符串</td></tr> <tr><td style="text-align:left;"><code>/字符串</code></td> <td style="text-align:left;">在文本中从上至下搜索该字符串</td></tr> <tr><td style="text-align:left;"><code>:$</code></td> <td style="text-align:left;">跳到最后一行（效果同 G）</td></tr></tbody></table> <h4 id="组相关命令"><a href="#组相关命令" class="header-anchor">#</a> 组相关命令：</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">usermod</span> -G groupname username <span class="token punctuation">(</span>这种会把用户从其他组中去掉，只属于该组<span class="token punctuation">)</span>
如：usermod -G <span class="token function">git</span> <span class="token function">git</span> <span class="token punctuation">(</span>git只属于git组<span class="token punctuation">)</span>

<span class="token function">usermod</span> -a -G groupname username <span class="token punctuation">(</span>把用户添加到这个组，之前所属组不影响<span class="token punctuation">)</span>
如：usermod -a -G www <span class="token function">git</span> <span class="token punctuation">(</span>git属于之前git组，也属于www组<span class="token punctuation">)</span>

例：把 user1加入users组
gpasswd –a user1 <span class="token function">users</span> 

例：把 user1退出users组
gpasswd –d user1 <span class="token function">users</span> 
</code></pre></div><h4 id="date命令"><a href="#date命令" class="header-anchor">#</a> date命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">date</span> <span class="token string">&quot;+%Y-%m-%d %H:%M:%S Day %j&quot;</span>		<span class="token comment"># 按指定格式查看时间</span>
<span class="token function">date</span> -s 时间字符串：
<span class="token function">date</span> -s <span class="token number">2012</span>-08-02						<span class="token comment"># 例如只修改系统的日期，不修改时间（时分秒）</span>
<span class="token function">date</span> -s <span class="token number">10</span>:08:00						<span class="token comment"># 只修改时间不修改日期</span>
<span class="token function">date</span> -s <span class="token string">&quot;2012-05-18 04:53:00&quot;</span>			<span class="token comment"># 同时修改日期和时间</span>
</code></pre></div><h4 id="更改时区"><a href="#更改时区" class="header-anchor">#</a> 更改时区</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rm</span> -rf /etc/localtime
<span class="token function">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></pre></div><blockquote><p>更改时区后，一般需要重启应用才能生效，如重启mysql。</p></blockquote> <h4 id="查看指定服务的pid"><a href="#查看指定服务的pid" class="header-anchor">#</a> 查看指定服务的pid</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>pidof <span class="token punctuation">[</span>参数<span class="token punctuation">]</span> <span class="token punctuation">[</span>服务名称<span class="token punctuation">]</span>	
例如：pidof sshd
</code></pre></div><h4 id="killall-命令"><a href="#killall-命令" class="header-anchor">#</a> killall 命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>用于终止某个指定名称的服务所对应的全部进程
<span class="token function">killall</span> <span class="token punctuation">[</span>参数<span class="token punctuation">]</span> <span class="token punctuation">[</span>服务名称<span class="token punctuation">]</span>
例如：killall sshd
</code></pre></div><h4 id="history-命令"><a href="#history-命令" class="header-anchor">#</a> history 命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">history</span> 用于显示历史执行过的命令
<span class="token function">history</span> -c 清空历史命令
<span class="token operator">!</span>命令编号 可以重新执行命令,避免手写 （命令编号来自history命令的执行结果）
</code></pre></div><h4 id="tr命令"><a href="#tr命令" class="header-anchor">#</a> tr命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tr</span> <span class="token punctuation">[</span>原始字符<span class="token punctuation">]</span> <span class="token punctuation">[</span>目标字符<span class="token punctuation">]</span> 替换文本字符，可配合管道符使用
例如：cat a.txt <span class="token operator">|</span> <span class="token function">tr</span> today yesterday <span class="token operator">&gt;</span> b.txt <span class="token punctuation">(</span>将文件中的today替换为yesterday，并输出到b.txt中<span class="token punctuation">)</span>
</code></pre></div><h4 id="cut-命令"><a href="#cut-命令" class="header-anchor">#</a> cut 命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cut</span> 命令用于按“列”提取文本字符，格式为“cut <span class="token punctuation">[</span>参数<span class="token punctuation">]</span> 文本”
-d 参数设置间隔符号
-f 参数设置要看的列
例如：cut -d: -f1 /etc/passwd
</code></pre></div><h4 id="神奇的文件"><a href="#神奇的文件" class="header-anchor">#</a> 神奇的文件</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>/dev/null		<span class="token string">&quot;黑洞&quot;</span>，往这个文件写任何东西都会消失
/dev/zero		不会占用系统存储空间，但却可以提供无穷无尽的数据
</code></pre></div><h4 id="dd命令"><a href="#dd命令" class="header-anchor">#</a> dd命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>格式：dd <span class="token punctuation">[</span>参数<span class="token punctuation">]</span>
<span class="token keyword">if</span>	输入的文件名称
of	输出的文件名称
bs	设置每个“块”的大小
count	设置要复制的“块”的个数
例如：
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>560_file <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span>10M
</code></pre></div><h4 id="file-命令"><a href="#file-命令" class="header-anchor">#</a> file 命令</h4> <p>用于查看文件的类型，格式为“file 文件名”</p> <h4 id="输入输出重定向"><a href="#输入输出重定向" class="header-anchor">#</a> 输入输出重定向</h4> <ul><li>输入重定向用到的符号及作用：</li></ul> <table><thead><tr><th style="text-align:left;">符号</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;">命令 &lt; 文件</td> <td style="text-align:left;">将文件作为命令的标准输入</td></tr> <tr><td style="text-align:left;">命令 &lt;&lt; 分界符</td> <td style="text-align:left;">从标准输入中读入，直到遇到分界符停止</td></tr> <tr><td style="text-align:left;">命令 &lt; 文件1 &gt; 文件2</td> <td style="text-align:left;">将文件1作为命令的标准输入并将标准输出到文件2</td></tr></tbody></table> <ul><li>输出重定向中用到的符号及其作用：</li></ul> <table><thead><tr><th style="text-align:left;">符号</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;">命令 &gt; 文件</td> <td style="text-align:left;">将标准输出重定向到一个文件中（清空原有文件的数据）</td></tr> <tr><td style="text-align:left;">命令 2&gt; 文件</td> <td style="text-align:left;">将错误输出重定向到一个文件中（清空原有文件的数据）</td></tr> <tr><td style="text-align:left;">命令 &gt;&gt; 文件</td> <td style="text-align:left;">将标准输出重定向到一个文件中（追加到原有内容的后面）</td></tr> <tr><td style="text-align:left;">命令 2&gt;&gt; 文件</td> <td style="text-align:left;">将错误输出重定向到一个文件中（追加到原有内容的后面）</td></tr> <tr><td style="text-align:left;">命令 &gt;&gt; 文件 2&gt;&amp;1 或 命令 &amp;&gt;&gt; 文件</td> <td style="text-align:left;">将标准输出与错误输出共同写入到文件中（追加到原有内容的后面）</td></tr></tbody></table> <h4 id="_4-个最常用的转义字符"><a href="#_4-个最常用的转义字符" class="header-anchor">#</a> 4 个最常用的转义字符</h4> <p>➢ 反斜杠（\）：使反斜杠后面的一个变量变为单纯的字符串。
➢ 单引号（''）：转义其中所有的变量为单纯的字符串。
➢ 双引号（&quot;&quot;）：保留其中的变量属性，不进行转义处理。
➢ 反引号（``）：把其中的命令执行后返回结果</p> <h4 id="文件测试所用的参数"><a href="#文件测试所用的参数" class="header-anchor">#</a> 文件测试所用的参数</h4> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;">-d</td> <td style="text-align:left;">测试文件是否为目录类型</td></tr> <tr><td style="text-align:left;">-e</td> <td style="text-align:left;">测试文件是否存在</td></tr> <tr><td style="text-align:left;">-f</td> <td style="text-align:left;">判断是否为一般文件</td></tr> <tr><td style="text-align:left;">-r</td> <td style="text-align:left;">测试当前用户是否有权限读取</td></tr> <tr><td style="text-align:left;">-w</td> <td style="text-align:left;">测试当前用户是否有权限写入</td></tr> <tr><td style="text-align:left;">-x</td> <td style="text-align:left;">测试当前用户是否有权限执行</td></tr></tbody></table> <h4 id="使用管道符和passwd命令的-stdin参数可快速更新密码"><a href="#使用管道符和passwd命令的-stdin参数可快速更新密码" class="header-anchor">#</a> 使用管道符和passwd命令的--stdin参数可快速更新密码</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;123456&quot;</span> <span class="token operator">|</span> <span class="token function">passwd</span> --stdin mark	 	<span class="token comment"># 更新用户mark的密码为123456</span>
</code></pre></div><h4 id="定时任务"><a href="#定时任务" class="header-anchor">#</a> 定时任务</h4> <ul><li>一次性定时任务</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>at 时间 			<span class="token comment"># 设置定时任务</span>
at -l			<span class="token comment"># 展示已设置的定时任务</span>
atrm <span class="token punctuation">[</span>任务编号<span class="token punctuation">]</span> 	<span class="token comment"># 删除已设置的定时任务</span>

例如：
<span class="token punctuation">[</span>itoak@localhost ~<span class="token punctuation">]</span>$ at <span class="token number">23</span>:30
at <span class="token operator">&gt;</span> systemctl restart httpd
at <span class="token operator">&gt;</span> 此处请同时按下 Ctrl + D 组合键来结束编写计划任务
job <span class="token number">3</span> at Mon Apr <span class="token number">27</span> <span class="token number">23</span>:30:00 <span class="token number">2017</span>
<span class="token punctuation">[</span>itoak@localhost ~<span class="token punctuation">]</span>$ at -l
<span class="token number">3</span> Mon Apr <span class="token number">27</span> <span class="token number">23</span>:30:00 <span class="token number">2017</span> a root

一条命令设置任务：
<span class="token punctuation">[</span>itoak@localhost ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;systemctl restart httpd&quot;</span> <span class="token operator">|</span> at <span class="token number">23</span>:30
job <span class="token number">4</span> at Mon Apr <span class="token number">27</span> <span class="token number">23</span>:30:00 <span class="token number">2017</span>
<span class="token punctuation">[</span>itoak@localhost ~<span class="token punctuation">]</span>$ at -l
<span class="token number">3</span> Mon Apr <span class="token number">27</span> <span class="token number">23</span>:30:00 <span class="token number">2017</span> a root
<span class="token number">4</span> Mon Apr <span class="token number">27</span> <span class="token number">23</span>:30:00 <span class="token number">2017</span> a root

删除一个任务：
<span class="token punctuation">[</span>itoak@localhost ~<span class="token punctuation">]</span>$ atrm <span class="token number">3</span>
<span class="token punctuation">[</span>itoak@localhost ~<span class="token punctuation">]</span>$ at -l
<span class="token number">4</span> Mon Apr <span class="token number">27</span> <span class="token number">23</span>:30:00 <span class="token number">2017</span> a root
</code></pre></div><ul><li>周期性定时任务</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">crontab</span> -e		<span class="token comment"># 创建、编辑计划任务</span>
<span class="token function">crontab</span> - l		<span class="token comment"># 查看当前计划任务</span>
<span class="token function">crontab</span> -r		<span class="token comment"># 删除某条计划任务</span>

Tips：
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">crontab</span> 命令中加上-u 参数来编辑他人的计划任务
<span class="token number">2</span><span class="token punctuation">)</span> 参数格式：<span class="token string">&quot;分、时、日、月、星期 命令&quot;</span>，如果有些字段没设置，需用星号（*）占位
<span class="token number">3</span><span class="token punctuation">)</span> 用逗号（,）来分别表示多个时间段，例如“8,9,12”表示 <span class="token number">8</span> 月、9 月和 <span class="token number">12</span> 月
<span class="token number">4</span><span class="token punctuation">)</span> 用减号（-）来表示一段连续的时间周期（例如字段“日”的取值为“12-15”，则表示每月的 <span class="token number">12</span>～15 日）
<span class="token number">5</span><span class="token punctuation">)</span> 用除号（/）表示执行任务的间隔时间（例如“*/2”表示每隔2 分钟执行一次任务）
<span class="token number">6</span><span class="token punctuation">)</span> 在 crond 服务的计划任务参数中，所有相关的文件、脚本都需要使用绝对路径（命令不需要）
<span class="token number">7</span><span class="token punctuation">)</span> 计划任务中的“分”字段必须有数值，绝对不能为空或是*号，而“日”和“星期”字段不能同时使用，否则就会发生冲突

栗子：
<span class="token comment"># 每周一、三、五的凌晨 3 点 25 分，都需要使用 tar 命令把某个网站的数据目录进行打包处理，使其作为一个备份文件</span>
<span class="token number">25</span> <span class="token number">3</span> * * <span class="token number">1,3</span>,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot

<span class="token comment"># 每周一至周五的凌晨 1 点钟自动清空/tmp 目录内的所有文件</span>
<span class="token number">0</span> <span class="token number">1</span> * * <span class="token number">1</span>-5 /usr/bin/rm -rf /tmp/*
</code></pre></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/oneisx/oneisx.github.io/edit/master/docs/40.Linux/01.Linux常用命令.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=Linux" title="标签">#Linux</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/01/08, 23:34:06</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/10ce89/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">快速配置SSH免密登录</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/10ce89/" class="prev">快速配置SSH免密登录</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/3212f8/"><div>
            看了这篇你就会手写RPC框架了
            <!----></div></a> <span class="date">01-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/afca8c/"><div>
            Git常用命令
            <!----></div></a> <span class="date">01-07</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/10ce89/"><div>
            快速配置SSH免密登录
            <!----></div></a> <span class="date">01-07</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1329166894@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/oneisx" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=115957627" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>oneisx | <a href="" target="_blank">Apache License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.30b63f87.js" defer></script><script src="/assets/js/2.f7063564.js" defer></script><script src="/assets/js/13.780e53a8.js" defer></script>
  </body>
</html>
