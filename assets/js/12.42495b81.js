(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{476:function(s,a,t){"use strict";t.r(a);var e=t(20),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("我们可以通过ssh命令连接远程机器，在上面执行操作，但是每次使用ssh都需要密码，不利于编写脚本操作：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.233\nroot@192.168.199.233's password: \n")])])]),t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),t("p",[s._v("准备两台机器：")]),s._v(" "),t("p",[s._v("机器A：192.168.199.231")]),s._v(" "),t("p",[s._v("机器B：192.168.199.233")]),s._v(" "),t("p",[s._v("我们需要配置机器A免密登录机器B。")]),s._v(" "),t("h2",{attrs:{id:"配置免密登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置免密登录"}},[s._v("#")]),s._v(" 配置免密登录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 1：在机器A上生成公共/私有rsa密钥对，一路回车到底即可")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssh-keygen -t rsa -C '1329166894@qq.com'")]),s._v("\n$ ssh-keygen\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 2：将公钥拷贝到机器C，执行后需输入机器C密码")]),s._v("\n$ ssh-copy-id "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.233\n")])])]),t("p",[s._v("这样就成功配置了免密登录，如果Step 1已经执行过，则可以跳过。\n如果需要配置机器C免密登录机器A，则在机器C上执行相同的操作即可。")]),s._v(" "),t("h2",{attrs:{id:"验证免密登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#验证免密登录"}},[s._v("#")]),s._v(" 验证免密登录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.233\nLast login: Tue May  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":31:40 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(" from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.231\n")])])]),t("p",[s._v("以前看过其他配置SSH免密登录的教程，但是过于复杂，需要手动将公钥复制到其他机器上，特此记录一下。")])])}),[],!1,null,null,null);a.default=r.exports}}]);