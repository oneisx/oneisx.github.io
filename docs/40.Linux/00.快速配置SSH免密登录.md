---
title: 快速配置SSH免密登录
date: 2022-01-07 22:25:46
permalink: /pages/10ce89/
categories:
  - Linux
tags:
  - Linux
  - SSH
  - 免密登录
---
## 前言

我们可以通过ssh命令连接远程机器，在上面执行操作，但是每次使用ssh都需要密码，不利于编写脚本操作：

```shell
$ ssh 192.168.199.233
root@192.168.199.233's password: 
```

## 准备工作

准备两台机器：

机器A：192.168.199.231

机器B：192.168.199.233

我们需要配置机器A免密登录机器B。


## 配置免密登录

```shell
# Step 1：在机器A上生成公共/私有rsa密钥对，一路回车到底即可
# ssh-keygen -t rsa -C '1329166894@qq.com'
$ ssh-keygen

# Step 2：将公钥拷贝到机器C，执行后需输入机器C密码
$ ssh-copy-id 192.168.199.233
```

这样就成功配置了免密登录，如果Step 1已经执行过，则可以跳过。
如果需要配置机器C免密登录机器A，则在机器C上执行相同的操作即可。


## 验证免密登录

```shell
$ ssh 192.168.199.233
Last login: Tue May  5 10:31:40 2020 from 192.168.199.231
```

以前看过其他配置SSH免密登录的教程，但是过于复杂，需要手动将公钥复制到其他机器上，特此记录一下。